<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>RedRibbon Studio</title>
  <meta name="description" content="RedRibbon Studio ‚Äî –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–µ–ª–ª—ã, –∞—Ä—Ç –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞." />
  <style>
    :root{
      --bg: #0d0d0d;
      --panel: #121212;
      --accent: #ff2e2e;
      --muted: #a8a8a8;
      --text: #f5f5f5;
      --glass: rgba(255,255,255,0.03);
      --radius: 12px;
      --max-width: 1100px;
    }
    [data-theme="light"]{
      --bg: #f6f7fb;
      --panel: #ffffff;
      --accent: #c0392b;
      --muted: #555;
      --text: #111;
      --glass: rgba(0,0,0,0.04);
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: "Segoe UI", Roboto, Arial, sans-serif;
      background:
        radial-gradient(900px 400px at 10% 10%, rgba(255,46,46,0.04), transparent),
        radial-gradient(700px 350px at 90% 90%, rgba(46,46,255,0.02), transparent),
        var(--bg);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      transition:background 360ms ease,color 260ms ease;
      scroll-behavior:smooth;
      line-height:1.55;
    }

    header{
      position:sticky; top:0; z-index:1200;
      background: linear-gradient(180deg, rgba(0,0,0,0.06), transparent), var(--panel);
      padding:12px 18px; display:flex; align-items:center; gap:14px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.25);
      backdrop-filter: blur(6px);
    }
    .logo{ display:flex; align-items:center; gap:12px; }
    .mark{ width:48px;height:48px;border-radius:12px;background:linear-gradient(135deg,var(--accent),#ff7b7b);
      display:flex;align-items:center;justify-content:center;color:#fff;font-weight:700; font-size:18px; box-shadow:0 8px 24px rgba(255,46,46,0.12) }
    h1{ margin:0; font-size:18px; letter-spacing:0.3px; }
    nav{ margin-left:auto; display:flex; gap:10px; align-items:center; flex-wrap:wrap; }
    nav a{ color:var(--text); text-decoration:none; padding:8px 10px; border-radius:8px; font-weight:600; }
    nav a:hover{ background:var(--glass) }

    .controls{ display:flex; align-items:center; gap:8px; margin-left:12px; }
    .controls button{ background:transparent; border:1px solid rgba(255,255,255,0.04); color:var(--text); padding:8px 10px; border-radius:8px; cursor:pointer; font-weight:700; }
    .audio-control{ display:flex; align-items:center; gap:8px; padding:6px 8px; border-radius:8px; border:1px solid rgba(255,255,255,0.03) }

    main{ max-width:var(--max-width); margin:32px auto; padding:0 18px; }

    section{ padding:44px 0; opacity:0; transform:translateY(18px); transition:all 700ms cubic-bezier(.2,.9,.2,1); }
    section.in-view{ opacity:1; transform:none; }

    h2{ text-align:center; color:var(--accent); margin-bottom:10px; font-size:24px; }
    .lead{ text-align:center; color:var(--muted); max-width:920px; margin:0 auto 14px; }

    .projects, .team, .downloads, .faq { display:flex; gap:18px; flex-wrap:wrap; justify-content:center; }
    .card{
      background:var(--panel); padding:16px; border-radius:12px; width:300px; text-align:center;
      box-shadow: 0 12px 34px rgba(0,0,0,0.42);
      transition: transform 260ms ease, box-shadow 260ms ease;
      border:1px solid rgba(255,255,255,0.02);
    }
    .card:hover{ transform:translateY(-8px); box-shadow: 0 24px 48px rgba(0,0,0,0.6); }
    .card img{ width:100%; border-radius:10px; display:block; margin-bottom:12px; }

    .download-buttons{ display:flex; flex-direction:column; gap:10px; align-items:center; }
    .btn{ padding:10px 14px; border-radius:10px; border:0; cursor:pointer; font-weight:800; color:#fff; background:linear-gradient(180deg,var(--accent),#d82424); box-shadow:0 8px 24px rgba(255,46,46,0.14); }

    footer{ padding:26px 18px; text-align:center; color:var(--muted); margin-top:40px; }

    /* Top button */
    #toTop{ position:fixed; right:20px; bottom:100px; width:48px;height:48px;border-radius:12px; display:none; align-items:center; justify-content:center; background:var(--panel); color:var(--text); box-shadow:0 8px 24px rgba(0,0,0,0.45); cursor:pointer; z-index:1400; }

    /* Chat */
    .chat-toggle{ position:fixed; right:20px; bottom:20px; width:56px;height:56px;border-radius:50%; background:var(--accent); color:#fff; border:none; font-size:22px; cursor:pointer; z-index:1600; box-shadow: 0 14px 40px rgba(255,46,46,0.18); }
    .chat-widget{ position:fixed; right:20px; bottom:90px; width:360px; max-height:540px; border-radius:12px; overflow:hidden; display:none; flex-direction:column; background:linear-gradient(180deg, rgba(0,0,0,0.04), transparent), var(--panel); border:1px solid rgba(255,255,255,0.03); box-shadow:0 20px 60px rgba(0,0,0,0.6); z-index:1550; }
    .chat-header{ background:var(--accent); color:#fff; padding:12px; font-weight:800; text-align:center; }
    .chat-messages{ padding:12px; overflow:auto; flex:1; display:flex; flex-direction:column; gap:8px; }
    .chat-input{ display:flex; border-top:1px solid rgba(255,255,255,0.03); }
    .chat-input input{ flex:1; padding:10px; border:0; outline:none; background:transparent; color:var(--text); }
    .chat-input button{ padding:10px 12px; border:0; background:var(--accent); color:#fff; cursor:pointer; }

    .msg{ padding:8px 10px; border-radius:10px; max-width:86%; line-height:1.3; }
    .msg.bot{ background: rgba(255,46,46,0.06); align-self:flex-start; color:var(--text); }
    .msg.user{ background: rgba(255,255,255,0.03); align-self:flex-end; color:var(--text); }
    .msg.op{ background: linear-gradient(90deg, rgba(255,46,46,0.06), rgba(255,255,255,0.02)); color:var(--text); border-left:3px solid var(--accent); }

    .audio-label{ font-size:13px; color:var(--muted); margin-left:6px; }

    @media (max-width:900px){
      nav{ display:none; }
      .chat-widget{ right:10px; left:10px; width:auto; }
      .card{ width:100%; }
      main{ margin:20px auto; }
    }
    @media (prefers-reduced-motion: reduce){
      *{ transition:none!important; animation:none!important; scroll-behavior:auto; }
    }
  </style>
</head>
<body data-theme="dark">

  <header>
    <div style="display:flex;align-items:center;gap:12px">
      <div class="mark" aria-hidden>RR</div>
      <div>
        <h1 id="siteTitle">RedRibbon Studio</h1>
        <div style="font-size:12px;color:var(--muted)" id="siteSubtitle">–∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–µ–ª–ª—ã</div>
      </div>
    </div>

    <nav aria-label="Main navigation">
      <a href="#about" data-i18n="nav_about">–û –∫–æ–º–ø–∞–Ω–∏–∏</a>
      <a href="#projects" data-i18n="nav_projects">–ü—Ä–æ–µ–∫—Ç—ã</a>
      <a href="#aska" data-i18n="nav_aska">–û–± –ê—Å–∫–µ</a>
      <a href="#team" data-i18n="nav_team">–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã</a>
      <a href="#downloads" data-i18n="nav_downloads">–°–∫–∞—á–∞—Ç—å</a>
      <a href="#faq" data-i18n="nav_faq">FAQ</a>
      <a href="#contacts" data-i18n="nav_contacts">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
    </nav>

    <div class="controls" role="region" aria-label="Controls">
      <div class="audio-control" title="–ú—É–∑—ã–∫–∞">
        <button id="audioToggle" aria-pressed="false">‚ñ∫</button>
        <div id="audioLabel" class="audio-label" data-i18n="audio_off">–ú—É–∑—ã–∫–∞ –≤—ã–∫–ª</div>
      </div>
      <button id="themeToggle" class="controls-btn" aria-pressed="false" title="–¢–µ–º–∞">üåô</button>
      <button id="langToggle" class="controls-btn" aria-pressed="false" title="–Ø–∑—ã–∫">EN</button>
    </div>
  </header>

  <main>
    <section id="about" class="reveal">
      <h2 data-i18n="about_title">–û –∫–æ–º–ø–∞–Ω–∏–∏</h2>
      <p class="lead" data-i18n="about_lead">
        RedRibbon Studio ‚Äî –º–æ–ª–æ–¥–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Å—Ç—É–¥–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è —Å –ª—é–±–æ–≤—å—é –∫ –≤–∏–∑—É–∞–ª—å–Ω—ã–º –Ω–æ–≤–µ–ª–ª–∞–º –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–º –∏—Å—Ç–æ—Ä–∏—è–º.
        –ú—ã —Å—Ç—Ä–µ–º–∏–º—Å—è —Å–æ–∑–¥–∞–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —Ç—Ä–æ–≥–∞—é—Ç –¥—É—à—É –∏ –∑–∞—Å—Ç–∞–≤–ª—è—é—Ç –∑–∞–¥—É–º–∞—Ç—å—Å—è.
      </p>
      <p data-i18n="about_text">
        –ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ—á–µ—Ç–∞–µ—Ç —Å—Ç—Ä–∞—Å—Ç—å –∫ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—é, –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –≤–∏–∑—É–∞–ª—É –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º –≤ –∑–≤—É–∫–µ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.
        –ú—ã –¥–µ–ª–∞–µ–º –∏–≥—Ä—ã —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —ç–º–æ—Ü–∏–∏, –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.
      </p>
    </section>

    <section id="projects" class="reveal">
      <h2 data-i18n="projects_title">–ü—Ä–æ–µ–∫—Ç—ã</h2>
      <div class="projects">
        <div class="card">
          <img src="aska.png" alt="–ó–∞—Å—Ç—ã–≤—à–∏–π –≤–∑–≥–ª—è–¥ –ê—Å–∫–∏" onerror="this.style.display='none'">
          <h3 data-i18n="proj_aska">–ó–∞—Å—Ç—ã–≤—à–∏–π –≤–∑–≥–ª—è–¥ –ê—Å–∫–∏</h3>
          <p data-i18n="proj_aska_desc">–ü–æ–≥—Ä—É–∑–∏—Å—å –≤ –º—Ä–∞—á–Ω—É—é –∏ –∑–∞–≥–∞–¥–æ—á–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –¥—Ä—É–∂–±—ã —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –¥–µ–≤—É—à–∫–æ–π.</p>
        </div>
        <!-- –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–∞—Ä—Ç–æ—á–∫–∏ –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —Ç—É—Ç -->
      </div>
    </section>

    <section id="aska" class="reveal">
      <h2 data-i18n="aska_title">–û–± –ê—Å–∫–µ</h2>
      <p data-i18n="aska_text">
        –ê—Å–∫–∞ ‚Äî –≥–ª–∞–≤–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∞—à–µ–π –ø–µ—Ä–≤–æ–π –Ω–æ–≤–µ–ª–ª—ã. –°–Ω–∞—á–∞–ª–∞ –æ–Ω–∞ –∫–∞–∂–µ—Ç—Å—è —è—Ä–∫–æ–π, –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–π –∏ –∑–∞–±–æ—Ç–ª–∏–≤–æ–π –¥–µ–≤—É—à–∫–æ–π,
        –Ω–æ –∑–∞ –µ—ë —É–ª—ã–±–∫–æ–π —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–µ—á—Ç–æ –±–æ–ª—å—à–µ–µ. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—É–¥—å–±—É –Ω–µ —Ç–æ–ª—å–∫–æ –≥–µ—Ä–æ—è, –Ω–æ –∏ —Å–∞–º–æ–π –∏–≥—Ä—ã.
      </p>
    </section>

    <section id="team" class="reveal">
      <h2 data-i18n="team_title">–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã</h2>
      <div class="team">
        <div class="card">
          <h3>Curatorkiss</h3>
          <p data-i18n="role_writer">–°—Ü–µ–Ω–∞—Ä–∏—Å—Ç / –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫</p>
        </div>
        <div class="card">
          <h3>Alexander Kornienko</h3>
          <p data-i18n="role_artist">–•—É–¥–æ–∂–Ω–∏–∫ / –î–∏–∑–∞–π–Ω</p>
        </div>
      </div>
    </section>

    <section id="downloads" class="reveal">
      <h2 data-i18n="download_title">–°–∫–∞—á–∞—Ç—å</h2>
      <div class="download-buttons">
        <button class="btn" data-i18n="dl_steam">–°–∫–∞—á–∞—Ç—å –≤ Steam</button>
        <button class="btn" data-i18n="dl_vk">–°–∫–∞—á–∞—Ç—å –≤ VK Play</button>
        <button class="btn" data-i18n="dl_itch">–°–∫–∞—á–∞—Ç—å –Ω–∞ Itch.io</button>
        <button class="btn" data-i18n="dl_drive">–°–∫–∞—á–∞—Ç—å (Google Drive)</button>
      </div>
    </section>

    <section id="faq" class="reveal">
      <h2 data-i18n="faq_title">–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã</h2>
      <div class="faq">
        <div class="card"><h3>–ö–∞–∫ —Å–≤—è–∑–∞—Ç—å—Å—è —Å —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏?</h3><p>–ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞ support@redribbonstudio.com</p></div>
        <div class="card"><h3>–ì–¥–µ —Å–∫–∞—á–∞—Ç—å –∏–≥—Ä—É?</h3><p data-i18n="a_download">–í Steam, VK Play, Itch.io –∏ Google Drive.</p></div>
        <div class="card"><h3>–ë—É–¥–µ—Ç –ª–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ?</h3><p>–î–∞, –º—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—Ä–∏–∏.</p></div>
        <div class="card"><h3>–ú–æ–∂–Ω–æ –ª–∏ —Å—Ç—Ä–∏–º–∏—Ç—å –∏–≥—Ä—É?</h3><p>–î–∞, –º—ã –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º –ª–µ—Ç—Å–ø–ª–µ–∏ –∏ —Å—Ç—Ä–∏–º—ã.</p></div>
        <div class="card"><h3>–ö–∞–∫–∏–µ —Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è?</h3><p>–ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ: Windows 7/8/10, 2GB RAM.</p></div>
        <div class="card"><h3>–ï—Å—Ç—å –ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Linux/Mac?</h3><p>–î–∞, –ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è –º—É–ª—å—Ç–∏–ø–ª–∞—Ç—Ñ–æ—Ä–º–µ–Ω–Ω–æ—Å—Ç—å.</p></div>
        <div class="card"><h3>–ï—Å—Ç—å –ª–∏ –ø–∞—Ç—á–∏/–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è?</h3><p>–î–∞, —Å–ª–µ–¥–∏—Ç–µ –∑–∞ –Ω–æ–≤–æ—Å—Ç—è–º–∏ –≤ VK –∏ Discord.</p></div>
        <div class="card"><h3>–ú–æ–∂–Ω–æ –ª–∏ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –∏–≥—Ä—É?</h3><p>–î–∞, –º—ã –æ—Ç–∫—Ä—ã—Ç—ã –∫ —Ñ–∞–Ω-–ø–µ—Ä–µ–≤–æ–¥–∞–º.</p></div>
        <div class="card"><h3>–ï—Å—Ç—å –ª–∏ –≤–æ–∑—Ä–∞—Å—Ç–Ω—ã–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?</h3><p>16+ –∑–∞ —Å—á—ë—Ç –º—Ä–∞—á–Ω—ã—Ö —Ç–µ–º –∏ —Ö–æ—Ä—Ä–æ—Ä-—ç–ª–µ–º–µ–Ω—Ç–æ–≤.</p></div>
        <div class="card"><h3>–ö–æ–≥–¥–∞ —Ä–µ–ª–∏–∑?</h3><p>–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ 25 –Ω–æ—è–±—Ä—è 2025 –≥–æ–¥–∞.</p></div>
      </div>
    </section>

    <section id="contacts" class="reveal">
      <h2 data-i18n="contacts_title">–ö–æ–Ω—Ç–∞–∫—Ç—ã</h2>
      <p>üìß <a href="mailto:support@redribbonstudio.com">support@redribbonstudio.com</a></p>
      <p>üìß <a href="mailto:redribbon@gmail.com">redribbon@gmail.com</a></p>
      <p>üåê VK: <a href="https://vk.com/redribbonstudio" target="_blank" rel="noopener">vk.com/redribbonstudio</a></p>
      <p>üí¨ Discord: <a href="https://discord.gg/redribbonstudio" target="_blank" rel="noopener">discord.gg/redribbonstudio</a></p>
    </section>
  </main>

  <footer>
    <p>¬© 2025 RedRibbon Studio. <span data-i18n="footer_rights">–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</span></p>
    <p class="muted" data-i18n="footer_note">–° –ª—é–±–æ–≤—å—é, –∫–æ–º–∞–Ω–¥–∞ RedRibbon ‚ù§Ô∏è</p>
  </footer>

  <!-- –ö–Ω–æ–ø–∫–∞ –Ω–∞–≤–µ—Ä—Ö -->
  <div id="toTop" title="–ù–∞–≤–µ—Ä—Ö" aria-hidden="true">‚Üë</div>

  <!-- –ß–∞—Ç -->
  <button class="chat-toggle" id="chatToggle" aria-label="–û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç">üí¨</button>

  <div class="chat-widget" id="chat" aria-hidden="true" style="display:none">
    <div class="chat-header" id="chatHeader">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</div>
    <div class="chat-messages" id="chatMessages" role="log" aria-live="polite">
      <div class="msg bot"><strong data-i18n="bot_hello">–ë–æ—Ç:</strong> <span data-i18n="bot_prompt">–ü—Ä–∏–≤–µ—Ç! –°–ø—Ä–æ—Å–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–ì–¥–µ —Å–∫–∞—á–∞—Ç—å –∏–≥—Ä—É?"</span></div>
    </div>
    <div class="chat-input">
      <input id="chatInput" type="text" placeholder="–ù–∞–ø–∏—à–∏ –≤–æ–ø—Ä–æ—Å..." aria-label="–°–æ–æ–±—â–µ–Ω–∏–µ"/>
      <button id="chatSendBtn" aria-label="–û—Ç–ø—Ä–∞–≤–∏—Ç—å">‚û§</button>
    </div>
  </div>

  <!-- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –º—É–∑—ã–∫–∞ (–≥–æ—Ç–æ–≤—ã–π –±–µ—Å–ø–ª–∞—Ç–Ω—ã–π mp3) -->
  <!-- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –ø—Ä–∏–º–µ—Ä–Ω—ã–π –ø—É–±–ª–∏—á–Ω—ã–π mp3 –∏–∑ SoundHelix (–ø—Ä–∏–º–µ—Ä–Ω—ã–π –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–π —Ç—Ä–µ–∫). –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø—Ä—è–º–æ–π mp3 URL -->
  <audio id="bgAudio" loop preload="none">
    <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
  </audio>

  <script>
    /* ---------- i18n —Ç–µ–∫—Å—Ç—ã ---------- */
    const i18n = {
      ru: {
        nav_about:"–û –∫–æ–º–ø–∞–Ω–∏–∏", nav_projects:"–ü—Ä–æ–µ–∫—Ç—ã", nav_aska:"–û–± –ê—Å–∫–µ", nav_team:"–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã", nav_downloads:"–°–∫–∞—á–∞—Ç—å",
        nav_faq:"FAQ", nav_contacts:"–ö–æ–Ω—Ç–∞–∫—Ç—ã",
        audio_off:"–ú—É–∑—ã–∫–∞ –≤—ã–∫–ª", audio_on:"–ú—É–∑—ã–∫–∞ –≤–∫–ª",
        about_title:"–û –∫–æ–º–ø–∞–Ω–∏–∏", about_lead:"RedRibbon Studio ‚Äî –º–æ–ª–æ–¥–∞—è –Ω–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Å—Ç—É–¥–∏—è, –æ—Å–Ω–æ–≤–∞–Ω–Ω–∞—è —Å –ª—é–±–æ–≤—å—é –∫ –≤–∏–∑—É–∞–ª—å–Ω—ã–º –Ω–æ–≤–µ–ª–ª–∞–º –∏ –∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–º –∏—Å—Ç–æ—Ä–∏—è–º.",
        about_text:"–ù–∞—à–∞ –∫–æ–º–∞–Ω–¥–∞ —Å–æ—á–µ—Ç–∞–µ—Ç —Å—Ç—Ä–∞—Å—Ç—å –∫ –ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—é, –≤–Ω–∏–º–∞–Ω–∏–µ –∫ –≤–∏–∑—É–∞–ª—É –∏ —Å—Ç—Ä–µ–º–ª–µ–Ω–∏–µ –∫ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º –≤ –∑–≤—É–∫–µ –∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –ú—ã –¥–µ–ª–∞–µ–º –∏–≥—Ä—ã —Å –∞–∫—Ü–µ–Ω—Ç–æ–º –Ω–∞ —ç–º–æ—Ü–∏–∏, –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –∏ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π.",
        projects_title:"–ü—Ä–æ–µ–∫—Ç—ã", proj_aska:"–ó–∞—Å—Ç—ã–≤—à–∏–π –≤–∑–≥–ª—è–¥ –ê—Å–∫–∏", proj_aska_desc:"–ü–æ–≥—Ä—É–∑–∏—Å—å –≤ –º—Ä–∞—á–Ω—É—é –∏ –∑–∞–≥–∞–¥–æ—á–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –¥—Ä—É–∂–±—ã —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –¥–µ–≤—É—à–∫–æ–π.",
        aska_title:"–û–± –ê—Å–∫–µ", aska_text:"–ê—Å–∫–∞ ‚Äî –≥–ª–∞–≤–Ω—ã–π –ø–µ—Ä—Å–æ–Ω–∞–∂ –Ω–∞—à–µ–π –ø–µ—Ä–≤–æ–π –Ω–æ–≤–µ–ª–ª—ã. –°–Ω–∞—á–∞–ª–∞ –æ–Ω–∞ –∫–∞–∂–µ—Ç—Å—è —è—Ä–∫–æ–π, –¥—Ä—É–∂–µ–ª—é–±–Ω–æ–π –∏ –∑–∞–±–æ—Ç–ª–∏–≤–æ–π –¥–µ–≤—É—à–∫–æ–π, –Ω–æ –∑–∞ –µ—ë —É–ª—ã–±–∫–æ–π —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–µ—á—Ç–æ –±–æ–ª—å—à–µ–µ. –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –Ω–µ–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—É–¥—å–±—É –Ω–µ —Ç–æ–ª—å–∫–æ –≥–µ—Ä–æ—è, –Ω–æ –∏ —Å–∞–º–æ–π –∏–≥—Ä—ã.",
        team_title:"–°–æ—Å—Ç–∞–≤ –∫–æ–º–∞–Ω–¥—ã", role_writer:"–°—Ü–µ–Ω–∞—Ä–∏—Å—Ç / –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫", role_artist:"–•—É–¥–æ–∂–Ω–∏–∫ / –î–∏–∑–∞–π–Ω",
        download_title:"–°–∫–∞—á–∞—Ç—å", dl_steam:"–°–∫–∞—á–∞—Ç—å –≤ Steam", dl_vk:"–°–∫–∞—á–∞—Ç—å –≤ VK Play", dl_itch:"–°–∫–∞—á–∞—Ç—å –Ω–∞ Itch.io", dl_drive:"–°–∫–∞—á–∞—Ç—å (Google Drive)",
        faq_title:"–ß–∞—Å—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã", a_download:"–í Steam, VK Play, Itch.io –∏ Google Drive.",
        contacts_title:"–ö–æ–Ω—Ç–∞–∫—Ç—ã", footer_rights:"–í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.", footer_note:"–° –ª—é–±–æ–≤—å—é, –∫–æ–º–∞–Ω–¥–∞ RedRibbon ‚ù§Ô∏è",
        bot_hello:"–ë–æ—Ç:", bot_prompt:'–ü—Ä–∏–≤–µ—Ç! –°–ø—Ä–æ—Å–∏, –Ω–∞–ø—Ä–∏–º–µ—Ä: "–ì–¥–µ —Å–∫–∞—á–∞—Ç—å –∏–≥—Ä—É?"'
      },
      en: {
        nav_about:"About", nav_projects:"Projects", nav_aska:"About Aska", nav_team:"Team", nav_downloads:"Download",
        nav_faq:"FAQ", nav_contacts:"Contacts",
        audio_off:"Music off", audio_on:"Music on",
        about_title:"About", about_lead:"RedRibbon Studio ‚Äî an indie studio creating atmospheric visual novels.",
        about_text:"Our team blends a passion for storytelling, attention to visuals, and experimentation with sound and UI. We create games focused on emotion, atmosphere, and characters.",
        projects_title:"Projects", proj_aska:"Aska's Frozen Gaze", proj_aska_desc:"Dive into a dark, mysterious tale of friendship with a virtual girl.",
        aska_title:"About Aska", aska_text:"Aska is the main character of our first novel. She first appears bright and caring, but there is more beneath her smile. Interactions with her shape the fate of the protagonist and the game.",
        team_title:"Team", role_writer:"Writer / Developer", role_artist:"Artist / Designer",
        download_title:"Download", dl_steam:"Download on Steam", dl_vk:"Download on VK Play", dl_itch:"Download on Itch.io", dl_drive:"Download (Google Drive)",
        faq_title:"FAQ", a_download:"On Steam, VK Play, Itch.io and Google Drive.",
        contacts_title:"Contacts", footer_rights:"All rights reserved.", footer_note:"With love, the RedRibbon team ‚ù§Ô∏è",
        bot_hello:"Bot:", bot_prompt:'Hi! Try asking: "Where can I download the game?"'
      }
    };

    /* ---------- apply language ---------- */
    function applyLanguage(lang){
      document.documentElement.lang = lang === 'en' ? 'en' : 'ru';
      document.querySelectorAll('[data-i18n]').forEach(el=>{
        const key = el.getAttribute('data-i18n');
        if(key && i18n[lang] && i18n[lang][key]) el.innerText = i18n[lang][key];
      });
      // subtitle + audio label + initial bot
      document.getElementById('siteSubtitle').innerText = (lang==='en') ? 'atmospheric visual novels' : '–∞—Ç–º–æ—Å—Ñ–µ—Ä–Ω—ã–µ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ –Ω–æ–≤–µ–ª–ª—ã';
      updateAudioLabel();
      const firstBot = document.querySelector('#chatMessages .msg.bot');
      if(firstBot) firstBot.innerHTML = `<strong>${i18n[lang].bot_hello}</strong> ${i18n[lang].bot_prompt}`;
      // lang button label
      document.getElementById('langToggle').innerText = (lang === 'en') ? 'RU' : 'EN';
      localStorage.setItem('rr_lang', lang);
    }
    // initial
    applyLanguage(localStorage.getItem('rr_lang') || 'ru');
    document.getElementById('langToggle').addEventListener('click', ()=>{
      const cur = localStorage.getItem('rr_lang') || 'ru';
      applyLanguage(cur === 'ru' ? 'en' : 'ru');
    });

    /* ---------- theme ---------- */
    const themeToggle = document.getElementById('themeToggle');
    function setTheme(theme){
      document.body.setAttribute('data-theme', theme === 'light' ? 'light' : 'dark');
      themeToggle.innerText = theme === 'light' ? '‚òÄÔ∏è' : 'üåô';
      localStorage.setItem('rr_theme', theme);
    }
    themeToggle.addEventListener('click', ()=>{
      const cur = localStorage.getItem('rr_theme') || 'dark';
      setTheme(cur === 'dark' ? 'light' : 'dark');
    });
    setTheme(localStorage.getItem('rr_theme') || 'dark');

    /* ---------- audio ---------- */
    const bgAudio = document.getElementById('bgAudio');
    const audioToggle = document.getElementById('audioToggle');
    const audioLabel = document.getElementById('audioLabel');
    let audioPlaying = false;

    function updateAudioLabel(){
      const lang = localStorage.getItem('rr_lang') || 'ru';
      audioLabel.innerText = audioPlaying ? i18n[lang].audio_on : i18n[lang].audio_off;
      audioToggle.innerText = audioPlaying ? '‚ùö‚ùö' : '‚ñ∫';
      audioToggle.setAttribute('aria-pressed', audioPlaying);
    }

    audioToggle.addEventListener('click', async ()=>{
      try{
        if(!audioPlaying){
          await bgAudio.play();
          audioPlaying = true;
        } else {
          bgAudio.pause();
          audioPlaying = false;
        }
      }catch(e){
        console.warn('Audio play error', e);
        audioPlaying = false;
      }
      updateAudioLabel();
      localStorage.setItem('rr_audio', audioPlaying ? '1' : '0');
    });
    // restore label (do not autoplay)
    audioPlaying = false;
    updateAudioLabel();

    /* ---------- reveal on scroll ---------- */
    const reveals = document.querySelectorAll('.reveal');
    const io = new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){
          entry.target.classList.add('in-view');
          io.unobserve(entry.target);
        }
      })
    }, {threshold: 0.12});
    reveals.forEach(r=>io.observe(r));

    /* ---------- to top ---------- */
    const toTop = document.getElementById('toTop');
    window.addEventListener('scroll', ()=> {
      toTop.style.display = window.scrollY > 300 ? 'flex' : 'none';
    });
    toTop.addEventListener('click', ()=> window.scrollTo({top:0, behavior:'smooth'}));

    /* ---------- chat ---------- */
    const chatToggleBtn = document.getElementById('chatToggle');
    const chatWidget = document.getElementById('chat');
    const chatMessages = document.getElementById('chatMessages');
    const chatInput = document.getElementById('chatInput');
    const chatSendBtn = document.getElementById('chatSendBtn') || document.getElementById('chatSendBtn') ; // fallback
    let operatorTimers = [];

    function openChat(){ chatWidget.style.display = 'flex'; chatWidget.setAttribute('aria-hidden','false'); chatToggleBtn.innerText = '‚ùå'; }
    function closeChat(){ chatWidget.style.display = 'none'; chatWidget.setAttribute('aria-hidden','true'); chatToggleBtn.innerText = 'üí¨'; operatorTimers.forEach(t => clearTimeout(t)); operatorTimers = []; }
    chatToggleBtn.addEventListener('click', ()=> {
      if(chatWidget.style.display === 'flex') closeChat(); else openChat();
    });

    // canned responses (RU and EN)
    const canned = {
      ru: {
        "–∫–∞–∫ —Å–≤—è–∑–∞—Ç—å—Å—è": "–í–æ—Ç –∫–æ–Ω—Ç–∞–∫—Ç—ã: support@redribbonstudio.com",
        "–≥–¥–µ —Å–∫–∞—á–∞—Ç—å": "–ò–≥—Ä—É –º–æ–∂–Ω–æ —Å–∫–∞—á–∞—Ç—å –≤ Steam, VK Play, Itch.io –∏ Google Drive.",
        "–±—É–¥–µ—Ç –ª–∏ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ": "–î–∞, –º—ã –ø–ª–∞–Ω–∏—Ä—É–µ–º –Ω–æ–≤—ã–µ –∏—Å—Ç–æ—Ä–∏–∏.",
        "—Å—Ç—Ä–∏–º": "–î–∞, –º–æ–∂–Ω–æ —Å—Ç—Ä–∏–º–∏—Ç—å –∏ –∑–∞–ø–∏—Å—ã–≤–∞—Ç—å –≤–∏–¥–µ–æ.",
        "—Å–∏—Å—Ç–µ–º–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è": "–ú–∏–Ω–∏–º—É–º: Windows 7/8/10, 2GB RAM.",
        "linux": "–î–∞, –ø–ª–∞–Ω–∏—Ä—É–µ–º –ø–æ–¥–¥–µ—Ä–∂–∫—É Linux –∏ Mac.",
        "–æ–±–Ω–æ–≤–ª–µ–Ω–∏—è": "–î–∞, –±—É–¥—É—Ç –ø–∞—Ç—á–∏ –∏ —Ñ–∏–∫—Å—ã.",
        "–ø–µ—Ä–µ–≤–µ—Å—Ç–∏": "–î–∞, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º —Ñ–∞–Ω-–ø–µ—Ä–µ–≤–æ–¥—ã.",
        "–≤–æ–∑—Ä–∞—Å—Ç": "–ò–≥—Ä–∞ –∏–º–µ–µ—Ç —Ä–µ–π—Ç–∏–Ω–≥ 16+.",
        "—Ä–µ–ª–∏–∑": "–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω –Ω–∞ 25 –Ω–æ—è–±—Ä—è 2025 –≥–æ–¥–∞."
      },
      en: {
        "contact": "Contacts: support@redribbonstudio.com",
        "where to download": "You can download on Steam, VK Play, Itch.io and Google Drive.",
        "sequel": "Yes, we plan new stories.",
        "stream": "Yes, streaming and Let's Plays are allowed.",
        "requirements": "Minimum: Windows 7/8/10, 2GB RAM.",
        "linux": "We plan support for Linux and Mac.",
        "updates": "Yes, patches and fixes will be released.",
        "translate": "We support fan translations.",
        "age": "Game is rated 16+.",
        "release": "Planned for November 25, 2025."
      }
    };

    function appendMsg(html, cls='bot'){
      const div = document.createElement('div');
      div.className = 'msg ' + cls;
      div.innerHTML = html;
      chatMessages.appendChild(div);
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    function sendChat(){
      const raw = chatInput.value.trim();
      if(!raw) return;
      const lang = localStorage.getItem('rr_lang') || 'ru';
      appendMsg(`<strong>${lang==='ru' ? '–¢—ã' : 'You'}:</strong> ${escapeHtml(raw)}`, 'user');

      const text = raw.toLowerCase();
      let reply = null;
      const keys = Object.keys(canned[lang]);
      for(const k of keys){
        if(text.includes(k)) { reply = canned[lang][k]; break; }
      }

      if(reply){
        appendMsg(`<strong>${lang==='ru' ? '–ë–æ—Ç' : 'Bot'}:</strong> ${escapeHtml(reply)}`, 'bot');
      } else {
        appendMsg(`<strong>${lang==='ru' ? '–ë–æ—Ç' : 'Bot'}:</strong> ${lang==='ru' ? '–ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å –æ–ø–µ—Ä–∞—Ç–æ—Ä—É...' : 'Forwarding your request to an operator...'}`, 'bot');
        appendMsg(`<strong>${lang==='ru' ? '–ë–æ—Ç' : 'Bot'}:</strong> ${lang==='ru' ? '–û–∂–∏–¥–∞–π—Ç–µ –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è...' : 'Please wait, operator is connecting...'}`, 'bot');

        // 30s - "–û–∑–Ω–∞–∫–æ–º–ª—é—Å—å —Å –≤–∞—à–∏–º –¥–∏–∞–ª–æ–≥–æ–º –∏ –≤–µ—Ä–Ω—É—Å—å"
        const t1 = setTimeout(()=>{
          appendMsg(`<strong>${lang==='ru' ? '–û–ø–µ—Ä–∞—Ç–æ—Ä' : 'Operator'}:</strong> ${lang==='ru' ? '–û–∑–Ω–∞–∫–æ–º–ª—é—Å—å —Å –≤–∞—à–∏–º –¥–∏–∞–ª–æ–≥–æ–º –∏ –≤–µ—Ä–Ω—É—Å—å' : 'I will review your conversation and come back'}`, 'op');
        }, 30000);
        operatorTimers.push(t1);

        // 40s - final message
        const t2 = setTimeout(()=>{
          appendMsg(`<strong>${lang==='ru' ? '–û–ø–µ—Ä–∞—Ç–æ—Ä' : 'Operator'}:</strong> ${lang==='ru' ? '–¢—É—Ç –º—ã –Ω–µ –º–æ–∂–µ–º –ø–æ–º–æ—á—å. –ù–∞–ø–∏—à–∏—Ç–µ –Ω–∞–º –Ω–∞ redribbon@gmail.com' : 'We cannot assist here. Please contact redribbon@gmail.com'}`, 'op');
        }, 40000);
        operatorTimers.push(t2);
      }

      chatInput.value = '';
      chatMessages.scrollTop = chatMessages.scrollHeight;
    }

    // send by button or Enter
    document.getElementById('chatSendBtn').addEventListener('click', sendChat);
    chatInput.addEventListener('keydown', (e)=>{ if(e.key === 'Enter') sendChat(); });

    function escapeHtml(str){ return str.replace(/[&<>"]/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;'}[c])); }

    /* ---------- small helpers ---------- */
    // close chat and clear timers on page unload
    window.addEventListener('beforeunload', ()=> operatorTimers.forEach(t => clearTimeout(t)));

    // nav links smooth: nothing else needed

    // make sure initial bot message matches language
    (function initBotLang(){
      const lang = localStorage.getItem('rr_lang') || 'ru';
      const firstBot = document.querySelector('#chatMessages .msg.bot');
      if(firstBot) firstBot.innerHTML = `<strong>${i18n[lang].bot_hello}</strong> ${i18n[lang].bot_prompt}`;
    })();

  </script>
</body>
</html>


